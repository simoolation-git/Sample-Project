"use strict";var DisplaySearchResultImage=React.createClass({displayName:"DisplaySearchResultImage",shouldComponentUpdate:function(n,t){return t.displayVideo===!0?!0:!1},getInitialState:function(){return{displayVideo:!1}},handleClick:function(){this.setState({displayVideo:!0})},componentDidMount:function(){this.setState({displayVideo:!1})},getUrl:function(){return"PostedItems/"+this.props.searchResult.Id+"/"+this.props.searchResult.Slug},getVideoUrl:function(){return this.props.searchResult.VideoSourceUrl},componentDidUpdate:function(){this.refs.video.controls=!0;this.refs.video.play()},render:function(){return this.state.displayVideo===!0?React.createElement("div",{className:"posted-item-card-image"},React.createElement("a",null,React.createElement("span",{className:"card-img-custom",title:this.props.searchResult.Title,style:{backgroundImage:"url("+this.props.searchResult.PhotoUrl+")"}}),React.createElement("video",{src:this.getVideoUrl(),className:"posted-item-video",controls:"",ref:"video"}))):React.createElement("div",{className:"posted-item-card-image"},React.createElement("a",{onClick:this.handleClick},React.createElement("span",{className:"card-img-custom",title:this.props.searchResult.Title,style:{backgroundImage:"url("+this.props.searchResult.PhotoUrl+")"}})))}}),DisplaySearchResultContent=React.createClass({displayName:"DisplaySearchResultContent",shouldComponentUpdate:function(){return!1},handleClick:function(){},getUrl:function(){return"PostedItems/"+this.props.searchResult.Id+"/"+this.props.searchResult.Slug},render:function(){return React.createElement("div",{className:"card-text-bottom"},React.createElement("div",{className:"card-title"},React.createElement("a",{href:this.getUrl()},React.createElement("span",{id:"title"},this.props.searchResult.Title))))}}),DisplaySearchResultLikeDislike=React.createClass({displayName:"DisplaySearchResultLikeDislike",getInitialState:function(){return{searchResult:this.props.searchResult}},reCalculateTotal:function(n,t){t===!0&&n.IsLiked===!1?(n.TotalLike++,n.TotalDislike--):t===!0&&n.IsLiked===null?n.TotalLike++:t===!1&&n.IsLiked===null?n.TotalDislike++:t===!1&&n.IsLiked===!0?(n.TotalDislike++,n.TotalLike--):t===null&&n.IsLiked===!0&&n.TotalLike>0?n.TotalLike--:t===null&&n.IsLiked===!1&&n.TotalDislike>0&&n.TotalDislike--;n.IsLiked=t;this.setState({searchResult:n});amplify.publish("likeDislikeButtonPushed",n)},handleNoClick:function(){var n=this.state.searchResult,t=n.IsLiked===!1?null:!1;this.reCalculateTotal(n,t)},handleYesClick:function(){var n=this.state.searchResult,t=n.IsLiked===!0?null:!0;this.reCalculateTotal(n,t)},shareOnFB:function(){var n="PostedItems/"+this.state.searchResult.Id+"/"+this.state.searchResult.Slug,t=this.props.baseAddress+"/"+n,i="#"+this.state.searchResult.Tags.join(" #");amplify.publish("ShareFacebookClicked",{title:this.state.searchResult.Title,photoUrl:this.state.searchResult.PhotoUrl,link:t,tags:i,videoUrl:this.state.searchResult.VideoSourceUrl})},handleClickOpenLoginModal:function(){amplify.publish("displayLoginRegisterModal")},isActiveLike:function(n){return"mdi mdi-36px float-right cursor-pointer "+(n!=null&&n===!0?"mdi-heart":"mdi-heart-outline")},render:function(){var n=this,t=null,i=null,r=null,u,f;return this.props.userAuthorized===!0?(t=React.createElement("a",{onClick:n.handleYesClick},React.createElement("i",{className:this.isActiveLike(this.state.searchResult.IsLiked)})),i=React.createElement("a",{onClick:n.shareOnFB},React.createElement("i",{className:"mdi mdi-facebook mdi-36px cursor-pointer"})),u="PostedItems/"+this.state.searchResult.Id+"/"+this.state.searchResult.Slug,f=this.props.baseAddress+"/"+u,r=React.createElement("a",{href:f,title:this.state.searchResult.Slug,className:"more-text"}," READ "),React.createElement("div",{className:"card-text card-likeOrDislike-div"},React.createElement("div",{className:"col-xs-4"},i),React.createElement("div",{className:"col-xs-4 more-div"},r),React.createElement("div",{className:"col-xs-4"},t))):(t=React.createElement("a",{onClick:n.handleClickOpenLoginModal},React.createElement("i",{className:"mdi mdi-heart-outline mdi-36px float-right cursor-pointer"})),i=React.createElement("a",{onClick:n.shareOnFB},React.createElement("i",{className:"mdi mdi-facebook mdi-36px cursor-pointer"})),u="PostedItems/"+this.state.searchResult.Id+"/"+this.state.searchResult.Slug,f=this.props.baseAddress+"/"+u,r=React.createElement("a",{href:f,title:this.state.searchResult.Slug,className:"more-text"}," READ "),React.createElement("div",{className:"card-text card-likeOrDislike-div"},React.createElement("div",{className:"col-xs-4"},i),React.createElement("div",{className:"col-xs-4 more-div"},r),React.createElement("div",{className:"col-xs-4"},t)))}}),DisplaySearchResult=React.createClass({displayName:"DisplaySearchResult",render:function(){return React.createElement("div",null,React.createElement(DisplaySearchResultImage,{searchResult:this.props.searchResult,userAuthorized:this.props.userAuthorized,baseAddress:this.props.baseAddress}),React.createElement(DisplaySearchResultLikeDislike,{searchResult:this.props.searchResult,userAuthorized:this.props.userAuthorized,baseAddress:this.props.baseAddress}),React.createElement(DisplaySearchResultContent,{searchResult:this.props.searchResult,userAuthorized:this.props.userAuthorized,baseAddress:this.props.baseAddress}))}}),DisplaySearchResults=React.createClass({displayName:"DisplaySearchResults",render:function(){var n=this,t=function(t){return React.createElement("div",{className:"col-custom"},React.createElement("div",{className:"card-custom",key:t.Id},React.createElement(DisplaySearchResult,{searchResult:t,userAuthorized:n.props.userAuthorized,baseAddress:n.props.baseAddress})))};return Array.isArray(this.props.searchResults)?React.createElement("span",null,this.props.searchResults.map(t)):null}}),DisplaySearchResultsWrapper=React.createClass({displayName:"DisplaySearchResultsWrapper",getInitialState:function(){return null},onChange:function(){},componentDidMount:function(){var n=this;amplify.subscribe("searchResults",function(t,i,r){t!==null&&n.setState({searchResults:t,userAuthorized:i,baseAddress:r})})},render:function(){return this.state===null||this.state.searchResults===null?null:React.createElement("div",{className:"card-deck"},React.createElement(DisplaySearchResults,{searchResults:this.state.searchResults,userAuthorized:this.state.userAuthorized,baseAddress:this.state.baseAddress}))}});ReactDOM.render(React.createElement(DisplaySearchResultsWrapper,null),document.getElementById("display-search-results-display"));